package com.devsofthewest.iphone.model;

import com.google.appengine.api.datastore.DatastoreService;
import com.google.appengine.api.datastore.DatastoreServiceFactory;
import com.google.appengine.api.datastore.Text;

import org.springframework.cloud.gcp.data.datastore.core.mapping.Entity;
import org.springframework.data.annotation.Id;
import java.util.ArrayList;
import java.util.List;
import java.util.Random;

import javax.annotation.Generated;
import javax.persistence.GeneratedValue;
import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;


@Entity(name = "articles")
public class Article {
    @Id
    Long id;
    byte[] text;
    Double rating;

    //Constructor for article. Sets rating to 3, and id is autogenerated.
    public Article(Text text, Long id)
    {
        //this.text = text;
        this.text = text.getValue().getBytes();
        this.rating = 3.0;
        this.id = id;
        //Entity articles = new Entity("articles", id);
        //articles.setProperty("rating", 3.0);
        //articles.setUnindexedProperty("text", text.getValue());

        //DatastoreService datastore = DatastoreServiceFactory.getDatastoreService();
        //datastore.put(articles);
    }

    public Long getId()
    {
        return this.id;
    }

    public void setId(Long id)
    {
        this.id = id;
    }

    public String getText()
    {
        String ourString = new String(this.text);
        return ourString;
    }

    public void setText(String text)
    {
        //this.text = new Text(text);
        this.text = text.getBytes();
    }

    public Double getRating()
    {
        return this.rating;
    }

    public void setRating(Double rating)
    {
        this.rating = rating;
    }

}